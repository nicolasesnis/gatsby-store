(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{147:function(e,t,a){"use strict";a.r(t);a(166),a(28);var n=a(6),r=a.n(n),o=a(0),i=a.n(o),c=a(168),l=a.n(c),u=a(191),s=a.n(u),m=a(212),d=a.n(m),p=a(684),f=a(392),h=a(460),g=a(706),E=a(302),v=a(158),C=a(180),y=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={error:"",loading:!1,quantity:1,visible:!1},t._handleSubmit=function(e,a){var n=t.props.productId,r=t.state.quantity,o=localStorage.getItem("mcart"),i=t.validate(r);t.setState({error:i}),i||(t.setState({loading:!0}),C.addToCart(o,n,r).then(function(){a.addToCart(r,o),t.setState({loading:!1,quantity:1,visible:!0},t.toggleMessage())}).catch(function(){return t.setState({error:"Something went wrong",loading:!1})}))},t.toggleMessage=function(){setTimeout(function(){t.setState({visible:!1})},1e3)},t._handleChange=function(e){var a=e.target.value;t.setState({quantity:a})},t.validate=function(e){var t;return e||(t="Can't be blank"),/^[0-9\b]+$/.test(e)||(t="Please enter an integer for the quantity"),t},t}return r()(t,e),t.prototype.render=function(){var e=this,t=this.state,a=t.loading,n=t.quantity,r=t.visible,o=t.error;return i.a.createElement(v.a.Consumer,null,function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{type:"number",placeholder:"Quantity",value:n,min:1,step:1,error:!!o,onChange:function(t){return e._handleChange(t)},action:{color:"orange",content:"Add to Cart",icon:"plus cart",onClick:function(a){return e._handleSubmit(a,t)},loading:a,disabled:a}}),o&&i.a.createElement("div",{style:{color:"red",position:"absolute"}},o),i.a.createElement(g.a,{duration:{hide:500,show:500},visible:r},i.a.createElement("div",{style:{color:"green",position:"absolute"}},i.a.createElement(E.a,{name:"check"}),"Added to cart")))})},t}(i.a.Component),x=function(e){var t=e.id,a=e.name,n=e.meta,r=e.sku,o=e.mainImage;return i.a.createElement(p.a.Group,null,i.a.createElement(p.a,{style:{alignItems:"center"}},i.a.createElement(p.a.Image,{size:"medium"},i.a.createElement(d.a,{style:{width:"250px"},sizes:o.childImageSharp.sizes,alt:a})),i.a.createElement(p.a.Content,null,i.a.createElement(p.a.Header,null,a),i.a.createElement(p.a.Description,null,i.a.createElement("p",null,n.display_price.with_tax.formatted),i.a.createElement(f.a,null,"SKU: ",r)),i.a.createElement(p.a.Extra,null,i.a.createElement(y,{productId:t})))))},b=a(703),w=a(694),k=a(697),I=function(e){var t=e.description,a=e.material,n=e.size;return i.a.createElement("div",null,i.a.createElement(b.a,{as:"h3"},"About this product"),i.a.createElement("p",null,t),i.a.createElement(w.a,null),i.a.createElement(k.a,{celled:!0},i.a.createElement(k.a.Header,{style:{background:"#f9fafb"}},i.a.createElement(k.a.Row,null,i.a.createElement(k.a.HeaderCell,{colSpan:"2"},"Attributes"))),i.a.createElement(k.a.Body,null,i.a.createElement(k.a.Row,null,i.a.createElement(k.a.Cell,null,"Matière"),i.a.createElement(k.a.Cell,null,a)),i.a.createElement(k.a.Row,null,i.a.createElement(k.a.Cell,null,"Taille du motif"),i.a.createElement(k.a.Cell,null,n)))))},S=a(170);a.d(t,"pageQuery",function(){return O});var P=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=s()(this,"props.data.allMoltinProduct").edges[0].node,t=e.slug,a=s()(e,"includedData.main_image.link.href"),n=s()(e,"mainImage.childImageSharp.sizes"),r=Object.assign({},e,{id:e.originalId,image:a,mainImage:e.mainImage,header:e.name,meta:e.meta,sku:e.sku});return n?i.a.createElement(S.a,{location:this.props.location},i.a.createElement(l.a,{title:t}),i.a.createElement(x,r),i.a.createElement(I,r)):null},t}(i.a.PureComponent),O=(t.default=P,"4056990892")},157:function(e,t,a){var n;e.exports=(n=a(167))&&n.default||n},158:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);t.a=r},159:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);t.a=r},167:function(e,t,a){"use strict";a.r(t);a(28);var n=a(0),r=a.n(n),o=a(4),i=a.n(o),c=a(48),l=a(2),u=function(e){var t=e.location,a=l.default.getResourcesForPathnameSync(t.pathname);return r.a.createElement(c.a,Object.assign({location:t,pageResources:a},a.json))};u.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}).isRequired},t.default=u},169:function(e,t,a){"use strict";a.r(t),a.d(t,"graphql",function(){return f}),a.d(t,"StaticQueryContext",function(){return d}),a.d(t,"StaticQuery",function(){return p});var n=a(0),r=a.n(n),o=a(4),i=a.n(o),c=a(152),l=a.n(c);a.d(t,"Link",function(){return l.a}),a.d(t,"withPrefix",function(){return c.withPrefix}),a.d(t,"navigate",function(){return c.navigate}),a.d(t,"push",function(){return c.push}),a.d(t,"replace",function(){return c.replace}),a.d(t,"navigateTo",function(){return c.navigateTo});var u=a(157),s=a.n(u);a.d(t,"PageRenderer",function(){return s.a});var m=a(29);a.d(t,"parsePath",function(){return m.a});var d=r.a.createContext({}),p=function(e){return r.a.createElement(d.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};function f(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}p.propTypes={data:i.a.object,query:i.a.string.isRequired,render:i.a.func,children:i.a.func}},170:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(695),i=a(187),c=a.n(i),l=a(168),u=a.n(l),s=a(152),m=a.n(s),d=(a(188),a(6)),p=a.n(d),f=a(159),h=function(e){function t(t){var a;return(a=e.call(this,t)||this).updateToken=function(){return a.setState({token:localStorage.getItem("customerToken")})},a.updateVerified=function(e){return a.setState({userVerified:e})},a.state={token:null,verified:null,updateToken:a.updateToken,updateVerified:a.updateVerified},a}p()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=localStorage.getItem("customerToken");this.setState({token:e})},a.render=function(){var e=this.state,t=e.token,a=e.updateToken,n=e.verified,o=e.updateVerified;return r.a.createElement(f.a.Provider,{value:{verified:n,token:t,updateToken:a,updateVerified:o}},this.props.children)},t}(n.Component),g=(a(28),a(185),a(30),a(189),a(158)),E=function(e){function t(t){var a;return(a=e.call(this,t)||this).addToCart=function(e,t){var n=Number(a.state.cartCount)+Number(e);return localStorage.setItem("mdata",JSON.stringify({cartId:t,cartCount:n})),a.setState(function(){return{cartCount:n}})},a.updateCartCount=function(e,t){localStorage.setItem("mdata",JSON.stringify({cartId:t,cartCount:e})),a.setState(function(){return{cartCount:e}})},a.state={cartId:null,cartCount:0,addToCart:a.addToCart,updateCartCount:a.updateCartCount},a}p()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=localStorage.getItem("mcart"),t=localStorage.getItem("mdata");if(e&&!t||!e){var a="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)});localStorage.setItem("mcart",a),localStorage.setItem("mdata",JSON.stringify({cartId:a,cartCount:0})),this.setState({cartId:a})}else{var n=localStorage.getItem("mdata"),r=JSON.parse(n);this.setState({cartCount:r.cartCount||0})}},a.render=function(){return r.a.createElement(g.a.Provider,{value:Object.assign({},this.state)},this.props.children)},t}(n.Component),v=a(707),C=a(701),y=a(302),x=(a(166),function(e){var t=e.cartCount,a=e.name;return r.a.createElement("div",null,r.a.createElement(y.a,{name:"cart"})," "+a+" ",t?t>9?r.a.createElement("span",{style:{fontSize:"smaller"}},"(9",r.a.createElement("sup",null,"+"),")"):"("+t+")":"(0)")}),b=a(685),w=a(172),k=a.n(w),I=function(){return r.a.createElement(b.a,{size:"mini",src:k.a,style:{marginRight:"1.5em"},alt:"I love Lamp"})},S=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={activeItem:t.props.location.pathname},t}p()(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){var t=e.location.pathname;t!==this.props.location.pathname&&this.setState({activeItem:t})},a.render=function(){var e=this.state.activeItem,t=this.props,a=t.token,n=t.cartCount;return r.a.createElement(C.a,{size:"huge",borderless:!0,pointing:!0},r.a.createElement(o.a,{text:!0},r.a.createElement(C.a.Item,{active:e===Object(s.withPrefix)("/"),as:m.a,to:"/",header:!0},r.a.createElement(I,null),"Zazou !"),a?r.a.createElement(C.a.Menu,{position:"right"},r.a.createElement(C.a.Item,{as:m.a,to:"/myaccount/",active:e===Object(s.withPrefix)("/myaccount/")},r.a.createElement(y.a,{name:"user"}),"Mon compte"),r.a.createElement(C.a.Item,{as:m.a,to:"/cart/",active:e===Object(s.withPrefix)("/cart/")},r.a.createElement(x,{cartCount:n,name:"Cart"}))):r.a.createElement(C.a.Menu,{position:"right"},r.a.createElement(C.a.Item,{as:m.a,to:"/register/",active:e===Object(s.withPrefix)("/register/")},"S'inscrire"),r.a.createElement(C.a.Item,{as:m.a,to:"/login/",active:e===Object(s.withPrefix)("/login/")},"Se connecter"),r.a.createElement(C.a.Item,{as:m.a,to:"/cart/",active:e===Object(s.withPrefix)("/cart/")},r.a.createElement(x,{cartCount:n,name:"Panier"})))))},t}(n.Component),P=a(700),O=a(704),T=a(694),M=a(702),_=a(184),z=Object(_.a)(m.a).withConfig({displayName:"MobileMenu__StyledLink",componentId:"sc-45ix4h-0"})(["font-weight:bold;text-align:center;font-size:2em;&:hover{text-decoration:underline;}"]),j=Object(_.a)(P.a).withConfig({displayName:"MobileMenu__BurgerButton",componentId:"sc-45ix4h-1"})(["&&&{font-size:1rem;padding:0.785em 1.5em;box-shadow:0 0 0 1px transparent inset,0 0 0 0 rgba(34,36,38,0.15) inset;}"]),q=Object(_.a)(j).withConfig({displayName:"MobileMenu__CloseButton",componentId:"sc-45ix4h-2"})(["&&&{position:absolute;top:-4em;right:0em;padding:0.5em;font-size:1.5em;width:2em;height:2em;}"]),N=Object(_.a)(O.a).withConfig({displayName:"MobileMenu__StyledSegment",componentId:"sc-45ix4h-3"})(["&&&{position:fixed;top:0%;left:0vw;z-index:1000;width:100vw;height:110vh;}"]),R=_.a.div.withConfig({displayName:"MobileMenu__StyledContainer",componentId:"sc-45ix4h-4"})(["&&&{margin-top:6em;text-align:center;position:relative;}"]),A=Object(_.a)(T.a).withConfig({displayName:"MobileMenu__StyledDivider",componentId:"sc-45ix4h-5"})(["&&&{margin:2em;}"]),F=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={open:!1,activeItem:t.props.location.pathname},t.handleClick=function(){return t.setState({open:!t.state.open})},t.handleClose=function(){return t.setState({open:!1})},t}p()(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){var t=e.location.pathname;t!==this.props.location.pathname&&this.setState({activeItem:t})},a.render=function(){var e=this.state,t=e.open,a=e.activeItem,n=this.props,i=n.token,c=n.cartCount;return r.a.createElement(C.a,{size:"huge",borderless:!0,pointing:!0},r.a.createElement(o.a,{text:!0},r.a.createElement(C.a.Item,{as:m.a,to:"/",header:!0,active:a===Object(s.withPrefix)("/")},r.a.createElement(I,null),"Zazou"),r.a.createElement(C.a.Menu,{position:"right"},r.a.createElement(C.a.Item,{as:m.a,to:"/cart/",active:a===Object(s.withPrefix)("/cart/")},r.a.createElement(x,{cartCount:c,name:""})),r.a.createElement(C.a.Item,{position:"right"},r.a.createElement(j,{basic:!0,onClick:this.handleClick,"aria-label":"Open Navigation Menu",autoFocus:!0},r.a.createElement(y.a,{fitted:!0,name:"bars"})))),r.a.createElement(M.a,{closeOnEscape:!0,onClose:this.handleClose,open:t},r.a.createElement(N,{className:!0,role:"dialog","aria-label":"Navigation Menu"},r.a.createElement(R,null,r.a.createElement(q,{"aria-label":"Close Navigation",basic:!0,circular:!0,onClick:this.handleClose,autoFocus:!0},"X"),r.a.createElement(z,{to:"/",onClick:this.handleClose},"Boutique"),r.a.createElement(A,null),r.a.createElement(z,{to:"/cart/",onClick:this.handleClose},"Panier "+(c?"("+c+")":"")),r.a.createElement(A,null),i?r.a.createElement(z,{to:"/myaccount/",onClick:this.handleClose},"Mon compte"):[r.a.createElement(z,{to:"/register/",onClick:this.handleClose,key:1},"S'inscrire"),r.a.createElement(A,{key:2}),r.a.createElement(z,{to:"/login/",onClick:this.handleClose,key:3},"Se connecter")])))))},t}(n.Component),B=function(e){function t(){return e.apply(this,arguments)||this}return p()(t,e),t.prototype.render=function(){var e=this;return r.a.createElement(f.a.Consumer,null,function(t){return r.a.createElement(g.a.Consumer,null,function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{maxWidth:v.a.onlyMobile.maxWidth},r.a.createElement(F,{location:e.props.location,token:t.token,cartCount:a.cartCount})),r.a.createElement(v.a,{minWidth:v.a.onlyTablet.minWidth},r.a.createElement(S,{location:e.props.location,token:t.token,cartCount:a.cartCount})))})})},t}(r.a.PureComponent),U=a(705),W=a(703),D=a(698),G=function(){return r.a.createElement(O.a,{vertical:!0,style:{padding:"4em 0em",marginTop:"3em",borderTop:"1px solid #f2f2f2"}},r.a.createElement(o.a,{text:!0},r.a.createElement(U.a,{stackable:!0},r.a.createElement(U.a.Row,null,r.a.createElement(U.a.Column,{width:4},r.a.createElement(W.a,{as:"h4",content:"À propos"}),r.a.createElement(D.a,null,r.a.createElement(D.a.Item,{as:m.a,to:"/privacy/"},"Données personnelles"),r.a.createElement(D.a.Item,{as:m.a,to:"/terms/"},"Conditions"))),r.a.createElement(U.a.Column,{width:5},r.a.createElement(W.a,{as:"h4",content:"Navigation"}),r.a.createElement(D.a,null,r.a.createElement(D.a.Item,{as:m.a,to:"/"},"Boutique"))),r.a.createElement(U.a.Column,{width:7},r.a.createElement(W.a,{as:"h4"},"Réseaux"),r.a.createElement("p",null,"Vous aimez mes bijoux ? Faites le moi savoir, et criez le autour de vous !"),r.a.createElement(D.a,{horizontal:!0},r.a.createElement(D.a.Item,{as:m.a,to:"/"},r.a.createElement(y.a,{name:"instagram"})),r.a.createElement(D.a.Item,{as:m.a,to:"/"},r.a.createElement(y.a,{name:"facebook"})),r.a.createElement(D.a.Item,{as:m.a,to:"/"},r.a.createElement(y.a,{name:"mail"}))))))))};t.a=function(e){var t=e.children,a=e.location;return r.a.createElement(h,null,r.a.createElement(E,null,r.a.createElement(u.a,{meta:[{name:"Zazou Paris",content:"Boutique en ligne Zazou-Paris de bijoux personnalisés faits à la main"},{name:"keywords",content:"bijoux, zazou, mode"},{name:"msapplication-TileColor",content:"#da532c"},{name:"theme-color",content:"#ffffff"}]},r.a.createElement("html",{lang:"en"}),r.a.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:Object(s.withPrefix)("/favicons/apple-touch-icon.png")}),r.a.createElement("link",{rel:"icon",type:"image/png",sizes:"32x32",href:Object(s.withPrefix)("/favicons/favicon-32x32.png")}),r.a.createElement("link",{rel:"icon",type:"image/png",sizes:"16x16",href:Object(s.withPrefix)("/favicons/favicon-16x16.png")})),r.a.createElement(c.a,{upTolerance:10,downTolerance:10,style:{zIndex:"20",height:"6.5em"}},r.a.createElement(B,{location:a})),r.a.createElement(o.a,{text:!0},t),r.a.createElement(G,null)))}},172:function(e,t,a){e.exports=a.p+"static/logo-carre-2-8bccac38e7f1cfcb4a58878f146346b3.png"},180:function(e,t,a){"use strict";a.r(t),a.d(t,"getProducts",function(){return i}),a.d(t,"getProductById",function(){return c}),a.d(t,"addToCart",function(){return l}),a.d(t,"getCartItems",function(){return u}),a.d(t,"removeFromCart",function(){return s}),a.d(t,"deleteCart",function(){return m}),a.d(t,"checkoutCart",function(){return d}),a.d(t,"payForOrder",function(){return p}),a.d(t,"register",function(){return h}),a.d(t,"login",function(){return f}),a.d(t,"getOrders",function(){return g}),a.d(t,"getCustomer",function(){return E}),a.d(t,"findCustomerByEmail",function(){return v}),a.d(t,"updateCustomer",function(){return C}),a.d(t,"findCustomerByResetToken",function(){return y});a(166),a(28);var n=a(178),r=a.n(n),o=(a(193),(0,a(199).gateway)({client_id:"xdIRZLJFUU3T8LYrlFfhcm0QOlgn3UhPhy2swxrD79",client_secret:"YPkgK26eGb5qQE59yuHuBxUUt11H4V3Ob1Lyh9oXhZ",grant_type:"client_credentials"})),i=function(){return o.Products.With("main_image").All()},c=function(e){return o.Products.With("main_image").Get(e)},l=function(e,t,a){return o.Cart(e).AddProduct(t,a)},u=function(e){return o.Cart(e).Items()},s=function(e,t){return o.Cart(t).RemoveItem(e)},m=function(e){return o.Cart(e).Delete()},d=function(e,t,a,n){return o.Cart(e).Checkout(t,a,n)},p=function(e,t,a){return o.Orders.Payment(e,{gateway:"stripe",method:"purchase",payment:t.id,options:{receipt_email:a}})},f=function(e){var t=e.email,a=e.password;return o.Customers.Token(t,a).then(function(e){var t=e.data;return{id:t.customer_id,token:t.token}})},h=function(e){var t=e.email,a=e.password,n=r()(e,["email","password"]);return o.Customers.Create(Object.assign({email:t,password:a,type:"customer"},n)).then(function(e){var n=e.data,r=n.name,o=n.id;return f({email:t,password:a}).then(function(e){var a=e.token;return{id:o,name:r,email:t,token:a}})})},g=function(e){return o.Orders.With("items").All(e)},E=function(e){return o.Customers.Get(e)},v=function(e){return o.Customers.Filter({eq:{email:e}}).All()},C=function(e,t){return o.Customers.Update(e,t)},y=function(e){return o.Customers.Filter({eq:{resetPasswordToken:e}}).All().then(function(t){for(var a=0;a<t.data.length;a++)if(t.data[a].resetPasswordToken==e)return t.data[a]})}},200:function(e,t){},201:function(e,t){}}]);
//# sourceMappingURL=component---src-templates-product-page-js-6825c9cf1a8360c6579d.js.map