{"version":3,"sources":["webpack:///./src/components/CartItemList/index.js","webpack:///./src/components/CartSummary/index.js","webpack:///./src/pages/cart.js","webpack:///./src/components/Context/CartContext.js","webpack:///./src/components/Context/AuthContext.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/Context/AuthProvider.js","webpack:///./src/components/Context/CartProvider.js","webpack:///./src/components/Header/ShoppingCartIcon.js","webpack:///./src/components/Header/Logo.js","webpack:///./src/components/Header/DesktopMenu.js","webpack:///./src/components/Header/MobileMenu.js","webpack:///./src/components/Header/index.js","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Layout/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/images/logo-carre-2.png","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./lib/moltin.js"],"names":["CartItemList","_ref","items","removeFromCart","destroyCart","loading","completed","react_default","a","createElement","Loader","active","inline","Message","success","Header","length","warning","Item","Group","divided","map","_ref2","id","product_id","name","quantity","meta","image","price","display_price","with_tax","unit","formatted","imageUrl","href","childKey","header","gatsby_link_default","to","Fragment","Responsive","Object","assign","as","Image","src","alt","size","style","background","onlyMobile","minWidth","onlyTablet","description","extra","Button","basic","icon","floated","onClick","mapCartItemsToItems","CartSummary","handleCheckout","customer","_ref$display_price$wi","amount","currency","Divider","console","log","process","Segment","clearing","main_default","stripeKey","token","locale","billingAddress","shippingAddress","email","reconfigureOnUpdate","triggerEvent","color","Cart","state","_handleCheckout","args","cartId","localStorage","getItem","customerId","_this","billing","first_name","card","split","last_name","line_1","address_line1","line_2","address_line2","city","address_city","postcode","address_zip","county","address_state","country","address_country","shipping","shipping_name","shipping_address_line1","shipping_address_city","shipping_address_zip","shipping_address_country","checkoutCart","then","data","payForOrder","setState","catch","e","error","_handleRemoveFromCart","itemId","context","total","reduce","c","updateCartCount","_handleDestroyCart","getCartItems","forEach","item","_ref3","componentDidMount","_this2","this","_ref4","err","getCustomer","render","_this3","_this$state","rest","objectWithoutPropertiesLoose_default","layout","location","props","Helmet_default","title","CartContext","Consumer","React","Component","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","createContext","AuthContext","m","module","exports","require","default","AuthProvider","_Component","call","updateToken","updateVerified","bool","userVerified","verified","Provider","value","children","CartProvider","addToCart","cartCount","Number","setItem","JSON","stringify","mdata","replace","Math","random","toString","parsedData","parse","ShoppingCartIcon","Icon","fontSize","Logo","zazou","marginRight","DesktopMenu","activeItem","pathname","componentWillReceiveProps","nextProps","nextPathname","_this$props","Menu","borderless","pointing","Container","text","withPrefix","Link","Header_Logo","position","Header_ShoppingCartIcon","StyledLink","styled","withConfig","displayName","componentId","BurgerButton","CloseButton","StyledSegment","StyledContainer","div","StyledDivider","MobileMenu","open","handleClick","handleClose","aria-label","autoFocus","fitted","Portal","closeOnEscape","onClose","className","role","circular","key","auth","cart","maxWidth","Header_MobileMenu","Header_DesktopMenu","PureComponent","Footer","vertical","padding","marginTop","borderTop","Grid","stackable","Row","Column","width","elements_Header_Header","content","List","horizontal","__webpack_exports__","Context_AuthProvider","Context_CartProvider","lang","rel","sizes","type","dist_default","upTolerance","downTolerance","zIndex","height","components_Header","components_Footer","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","json","propTypes","PropTypes","shape","string","isRequired","p","r","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","staticQueryData","query","Error","object","func","Moltin","MoltinGateway","gateway","client_id","client_secret","grant_type","getProducts","Products","With","All","getProductById","Get","productId","AddProduct","Items","RemoveItem","deleteCart","Delete","Checkout","orderId","Orders","Payment","method","payment","options","receipt_email","login","password","Customers","Token","_data$data","customer_id","register","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_2___default","Create","_data$data2","getOrders","getOrderItems","findCustomerByEmail","Filter","eq","updateCustomer","Update","findCustomerByResetToken","resetPasswordToken","i","getFiles","Files"],"mappings":"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","file":"component---src-pages-cart-js-18f04f688bab81f758bf.js","sourcesContent":["import React from 'react'\nimport Link from 'gatsby-link'\nimport { Item, Button, Loader, Message, Responsive } from 'semantic-ui-react'\nimport styled from 'styled-components'\n\nexport default ({ items, removeFromCart, destroyCart, loading, completed }) => {\n  if (loading) return <Loader active inline=\"centered\" />\n\n  if (completed) {\n    return (\n      <Message success>\n        {destroyCart()}\n        <Message.Header>C'est bon !</Message.Header>\n        <p>\n          Merci ! Votre commande a été placée et votre paiement a été accepté..\n        </p>\n      </Message>\n    )\n  }\n\n  if (items.length === 0)\n    return (\n      <Message warning>\n        <Message.Header>Votre panier est vide</Message.Header>\n        <p>Allez faire quelques emplettes puis revenez !</p>\n      </Message>\n    )\n  const mapCartItemsToItems = items =>\n    items.map(({ id, product_id, name, quantity, meta, image }) => {\n      const price = meta.display_price.with_tax.unit.formatted || ''\n      const imageUrl = image.href || '/static/moltin-light-hex.svg'\n\n      const DesktopItemImage = () => (\n        <Item.Image\n          src={imageUrl}\n          alt={name}\n          size=\"small\"\n          style={{ background: '#f2f2f2' }}\n        />\n      )\n      const MobileItemImage = () => (\n        <Item.Image\n          src={imageUrl}\n          alt={name}\n          size=\"small\"\n          style={{ background: 'none' }}\n        />\n      )\n\n      return {\n        childKey: id,\n        header: (\n          <Item.Header>\n            <Link to={`/product/${product_id}/`}>{name}</Link>\n          </Item.Header>\n        ),\n        image: (\n          <React.Fragment>\n            <Responsive as={MobileItemImage} {...Responsive.onlyMobile} />\n            <Responsive\n              as={DesktopItemImage}\n              minWidth={Responsive.onlyTablet.minWidth}\n            />\n          </React.Fragment>\n        ),\n        meta: `${quantity}x ${price}`,\n        description: 'Some more information goes here....',\n        extra: (\n          <Button\n            basic\n            icon=\"remove\"\n            floated=\"right\"\n            onClick={() => removeFromCart(id)}\n          />\n        ),\n      }\n    })\n  return <Item.Group divided items={mapCartItemsToItems(items)} />\n}\n","import React from 'react'\nimport StripeCheckout from 'react-stripe-checkout'\nimport { Button, Segment, Divider } from 'semantic-ui-react'\n\nexport default ({\n  handleCheckout,\n  customer,\n  display_price: {\n    with_tax: { amount, currency, formatted },\n  },\n}) => (\n  <div>\n    <Divider />\n    {console.log(process.env.GATSBY_STRIPE_PUBLISHABLE_KEY)}\n    <Segment clearing size=\"large\">\n      <strong>Sub total:</strong>\n{' '}\n{formatted}\n      <StripeCheckout\n        // Required :\n        stripeKey={process.env.GATSBY_STRIPE_PUBLISHABLE_KEY}\n        token={handleCheckout}\n        // optional :\n        image=\"https://via.placeholder.com/128\"\n        name=\"Gatsby Store\"\n        amount={amount}\n        locale=\"auto\"\n        billingAddress\n        currency={currency || 'EUR'}\n        shippingAddress\n        email={customer.email}\n        reconfigureOnUpdate={false}\n        triggerEvent=\"onClick\"\n      >\n        <Button color=\"black\" floated=\"right\">\n          Commander\n        </Button>\n      </StripeCheckout>\n    </Segment>\n  </div>\n)\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport CartItemList from '../components/CartItemList/'\nimport CartSummary from '../components/CartSummary/'\nimport CartContext from '../components/Context/CartContext'\nimport { consolidateStreamedStyles } from 'styled-components'\nimport Layout from '../components/Layout/layout'\n\nimport { getCartItems, getCustomer, checkoutCart, payForOrder, removeFromCart } from '../../lib/moltin'\n\n\nexport default class Cart extends React.Component {\n  state = {\n    items: [],\n    loading: true,\n    completed: false,\n    customer: {\n      email: '',\n      name: '',\n    },\n  }\n\n  componentDidMount() {\n    const cartId = localStorage.getItem('mcart')\n    getCartItems(cartId)\n      .then(({ data, meta }) => {\n        this.setState({\n          items: data,\n          meta,\n          cartId,\n          loading: false,\n        })\n      })\n      .catch(err => console.error(err))\n    getCustomer(localStorage.getItem('mcustomer'))\n      .then(data => {\n        this.setState({\n          customer: {\n            email: data.data.email,\n            name: data.data.name,\n          },\n        })\n      })\n      .catch(err => console.error(err))\n  }\n\n  _handleCheckout = (token, args) => {\n    const cartId = localStorage.getItem('mcart')\n    const customerId = localStorage.getItem('mcustomer')\n    const customer = this.state\n\n    const billing = {\n      first_name: token.card.name.split(' ')[0],\n      last_name: token.card.name.split(' ')[1] || '',\n      line_1: token.card.address_line1,\n      line_2: token.card.address_line2 || '',\n      city: token.card.address_city,\n      postcode: token.card.address_zip,\n      county: token.card.address_state || '',\n      country: token.card.address_country,\n    }\n\n    const shipping = {\n      first_name: args.shipping_name.split(' ')[0],\n      last_name: args.shipping_name.split(' ')[1] || '',\n      line_1: args.shipping_address_line1,\n      city: args.shipping_address_city,\n      postcode: args.shipping_address_zip,\n      county: args.shipping_address_zip,\n      country: args.shipping_address_country,\n    }\n\n\n\n    checkoutCart(cartId, customerId, billing, shipping)\n      .then(({ data: { id } }) => {\n        payForOrder(id, token, customer.email)\n          .then(() => {\n            this.setState({\n              completed: true,\n            })\n          })\n          .catch(e => {\n            console.error(e)\n          })\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  _handleRemoveFromCart = (itemId, context) => {\n    const { cartId } = this.state\n    removeFromCart(itemId, cartId).then(({ data, meta }) => {\n      const total = data.reduce((a, c) => a + c.quantity, 0)\n      context.updateCartCount(total, cartId)\n      this.setState({\n        items: data,\n        meta,\n      })\n    })\n  }\n\n  _handleDestroyCart = context => {\n    const { cartId } = this.state\n    getCartItems(cartId).then(data => {\n      data.data.forEach(item => {\n        removeFromCart(item.id, cartId).then(({ data, meta }) => {\n          const total = data.reduce((a, c) => a + c.quantity, 0)\n          context.updateCartCount(total, cartId)\n          this.setState({\n            items: data,\n            meta,\n          })\n        })\n      })\n    })\n  }\n\n  render() {\n    const { meta, ...rest } = this.state\n    const { loading } = rest\n\n    return (\n      <Layout location={this.props.location}>\n        <Helmet title=\"Cart\" />\n        <CartContext.Consumer>\n          {context => (\n            <CartItemList\n              {...rest}\n              removeFromCart={item => this._handleRemoveFromCart(item, context)}\n              destroyCart={() => this._handleDestroyCart(context)}\n            />\n          )}\n        </CartContext.Consumer>\n        {!loading && !rest.completed && this.state.items.length > 0 ? (\n          <CartSummary\n            {...meta}\n            customer={this.state.customer}\n            handleCheckout={this._handleCheckout}\n          />\n        ) : null}\n      </Layout>\n    )\n  }\n}\n","import React from 'react'\n\nconst CartContext = React.createContext(null)\n\nexport default CartContext\n","import React from 'react'\n\nconst AuthContext = React.createContext(null)\n\nexport default AuthContext\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React, { Component } from 'react'\nimport AuthContext from './AuthContext'\n\nclass AuthProvider extends Component {\n  constructor(props) {\n    super(props)\n\n    this.updateToken = () =>\n      this.setState({\n        token: localStorage.getItem('customerToken'),\n      })\n\n    this.updateVerified = bool =>\n      this.setState({\n        userVerified: bool,\n      })\n\n    this.state = {\n      token: null,\n      verified: null,\n      updateToken: this.updateToken,\n      updateVerified: this.updateVerified,\n    }\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('customerToken')\n\n    this.setState({\n      token,\n    })\n  }\n\n  render() {\n    const { token, updateToken, verified, updateVerified } = this.state\n    return (\n      <AuthContext.Provider\n        value={{\n          verified,\n          token,\n          updateToken,\n          updateVerified,\n        }}\n      >\n        {this.props.children}\n      </AuthContext.Provider>\n    )\n  }\n}\n\nexport default AuthProvider\n","import React, { Component } from 'react'\nimport CartContext from './CartContext'\n\nclass CartProvider extends Component {\n  constructor(props) {\n    super(props)\n\n    this.addToCart = (quantity, cartId) => {\n      const cartCount = Number(this.state.cartCount) + Number(quantity)\n      localStorage.setItem('mdata', JSON.stringify({ cartId, cartCount }))\n\n      return this.setState(() => ({\n        cartCount,\n      }))\n    }\n\n    this.updateCartCount = (cartCount, cartId) => {\n      localStorage.setItem('mdata', JSON.stringify({ cartId, cartCount }))\n      this.setState(() => ({\n        cartCount,\n      }))\n    }\n\n    this.state = {\n      cartId: null,\n      cartCount: 0,\n      addToCart: this.addToCart,\n      updateCartCount: this.updateCartCount,\n    }\n  }\n\n  componentDidMount() {\n    const cartId = localStorage.getItem('mcart')\n\n    // Note: Instead of localStorage you can use moltin api & Moltin.getCartItems(cartId) instead\n    const mdata = localStorage.getItem('mdata')\n\n    if ((cartId && !mdata) || !cartId) {\n      const cartId = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g, () =>\n        ((Math.random() * 16) | 0).toString(16)\n      )\n      localStorage.setItem('mcart', cartId)\n      localStorage.setItem('mdata', JSON.stringify({ cartId, cartCount: 0 }))\n      this.setState({\n        cartId,\n      })\n    } else {\n      const data = localStorage.getItem('mdata')\n      const parsedData = JSON.parse(data)\n      this.setState({\n        cartCount: parsedData.cartCount || 0,\n      })\n    }\n  }\n\n  render() {\n    return (\n      <CartContext.Provider\n        value={{\n          ...this.state,\n        }}\n      >\n        {this.props.children}\n      </CartContext.Provider>\n    )\n  }\n}\n\nexport default CartProvider\n","import React from 'react'\nimport { Icon } from 'semantic-ui-react'\n\nconst ShoppingCartIcon = ({ cartCount, name }) => {\n  const showCartCount = () => {\n    if (!cartCount) {\n      return `(0)`\n    } else if (cartCount > 9) {\n      return (\n        <span style={{ fontSize: 'smaller' }}>\n          (9<sup>+</sup>)\n        </span>\n      )\n    }\n    return `(${cartCount})`\n  }\n  return (\n    <div>\n      <Icon name=\"cart\" />\n      {` ${name} `}\n      {showCartCount()}\n    </div>\n  )\n}\n\nexport default ShoppingCartIcon\n","import React from 'react'\nimport { Image } from 'semantic-ui-react'\n\nimport zazou from '../../images/logo-carre-2.png'\n\nconst Logo = () => (\n  <Image\n    size=\"mini\"\n    src={zazou}\n    style={{ marginRight: '1.5em' }}\n    alt=\"I love Lamp\"\n  />\n)\n\nexport default Logo\n","import React, { Component } from 'react'\nimport Link, { withPrefix } from 'gatsby-link'\nimport { Menu, Container, Icon } from 'semantic-ui-react'\nimport ShoppingCartIcon from './ShoppingCartIcon'\nimport Logo from './Logo'\n\nclass DesktopMenu extends Component {\n  state = {\n    activeItem: this.props.location.pathname,\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextPathname = nextProps.location.pathname\n    const currentPathname = this.props.location.pathname\n\n    if (nextPathname !== currentPathname) {\n      this.setState({\n        activeItem: nextPathname,\n      })\n    }\n  }\n\n  render() {\n    const { activeItem } = this.state\n    const { token, cartCount } = this.props\n    return (\n      <Menu size=\"huge\" borderless pointing>\n        <Container text>\n          <Menu.Item\n            active={activeItem === withPrefix('/')}\n            as={Link}\n            to=\"/\"\n            header\n          >\n            <Logo />\n            Zazou !\n          </Menu.Item>\n          {token ? (\n            <Menu.Menu position=\"right\">\n              <Menu.Item\n                as={Link}\n                to=\"/myaccount/\"\n                active={activeItem === withPrefix('/myaccount/')}\n              >\n                <Icon name=\"user\" />\n                Mon compte\n              </Menu.Item>\n              <Menu.Item\n                as={Link}\n                to=\"/cart/\"\n                active={activeItem === withPrefix('/cart/')}\n              >\n                <ShoppingCartIcon cartCount={cartCount} name=\"Panier\" />\n              </Menu.Item>\n            </Menu.Menu>\n          ) : (\n            <Menu.Menu position=\"right\">\n              <Menu.Item\n                as={Link}\n                to=\"/register/\"\n                active={activeItem === withPrefix('/register/')}\n              >\n                S'inscrire\n              </Menu.Item>\n              <Menu.Item\n                as={Link}\n                to=\"/login/\"\n                active={activeItem === withPrefix('/login/')}\n              >\n                Se connecter\n              </Menu.Item>\n              <Menu.Item\n                as={Link}\n                to=\"/cart/\"\n                active={activeItem === withPrefix('/cart/')}\n              >\n                <ShoppingCartIcon cartCount={cartCount} name=\"Panier\" />\n              </Menu.Item>\n            </Menu.Menu>\n          )}\n        </Container>\n      </Menu>\n    )\n  }\n}\n\nexport default DesktopMenu\n","import React, { Component } from 'react'\nimport Link, { withPrefix } from 'gatsby-link'\nimport {\n  Menu,\n  Container,\n  Icon,\n  Portal,\n  Segment,\n  Divider,\n  Button,\n} from 'semantic-ui-react'\nimport styled from 'styled-components'\nimport ShoppingCartIcon from './ShoppingCartIcon'\nimport Logo from './Logo'\n\nconst StyledLink = styled(Link)`\n  font-weight: bold;\n  text-align: center;\n  font-size: 2em;\n  &:hover {\n    text-decoration: underline;\n  }\n`\n\nconst BurgerButton = styled(Button)`\n  &&& {\n    font-size: 1rem;\n    padding: 0.785em 1.5em;\n    box-shadow: 0 0 0 1px transparent inset,\n      0 0 0 0 rgba(34, 36, 38, 0.15) inset;\n  }\n`\nconst CloseButton = styled(BurgerButton)`\n  &&& {\n    position: absolute;\n    top: -4em;\n    right: 0em;\n    padding: 0.5em;\n    font-size: 1.5em;\n    width: 2em;\n    height: 2em;\n  }\n`\n\nconst StyledSegment = styled(Segment)`\n  &&& {\n    position: fixed;\n    top: 0%;\n    left: 0vw;\n    z-index: 1000;\n    width: 100vw;\n    height: 110vh;\n  }\n`\n\nconst StyledContainer = styled.div`\n  &&& {\n    margin-top: 6em;\n    text-align: center;\n    position: relative;\n  }\n`\n\nconst StyledDivider = styled(Divider)`\n  &&& {\n    margin: 2em;\n  }\n`\n\nclass MobileMenu extends Component {\n  state = {\n    open: false,\n    activeItem: this.props.location.pathname,\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextPathname = nextProps.location.pathname\n    const currentPathname = this.props.location.pathname\n\n    if (nextPathname !== currentPathname) {\n      this.setState({\n        activeItem: nextPathname,\n      })\n    }\n  }\n\n  handleClick = () => this.setState({ open: !this.state.open })\n\n  handleClose = () => this.setState({ open: false })\n\n  render() {\n    const { open, activeItem } = this.state\n    const { token, cartCount } = this.props\n\n    return (\n      <Menu size=\"huge\" borderless pointing>\n        <Container text>\n          <Menu.Item\n            as={Link}\n            to=\"/\"\n            header\n            active={activeItem === withPrefix('/')}\n          >\n            <Logo />\n            Zazou\n          </Menu.Item>\n          <Menu.Menu position=\"right\">\n            <Menu.Item\n              as={Link}\n              to=\"/cart/\"\n              active={activeItem === withPrefix('/cart/')}\n            >\n              <ShoppingCartIcon cartCount={cartCount} name=\"\" />\n            </Menu.Item>\n            <Menu.Item position=\"right\">\n              <BurgerButton\n                basic\n                onClick={this.handleClick}\n                aria-label=\"Open Navigation Menu\"\n                autoFocus\n              >\n                <Icon fitted name=\"bars\" />\n              </BurgerButton>\n            </Menu.Item>\n          </Menu.Menu>\n          <Portal closeOnEscape onClose={this.handleClose} open={open}>\n            <StyledSegment className role=\"dialog\" aria-label=\"Navigation Menu\">\n              <StyledContainer>\n                <CloseButton\n                  aria-label=\"Close Navigation\"\n                  basic\n                  circular\n                  onClick={this.handleClose}\n                  autoFocus\n                >\n                  X\n                </CloseButton>\n                <StyledLink to=\"/\" onClick={this.handleClose}>\n                  Boutique\n                </StyledLink>\n                <StyledDivider />\n                <StyledLink to=\"/cart/\" onClick={this.handleClose}>\n                  {`Panier ${cartCount ? `(${cartCount})` : ''}`}\n                </StyledLink>\n                <StyledDivider />\n                {token ? (\n                  <StyledLink to=\"/myaccount/\" onClick={this.handleClose}>\n                    Mon compte\n                  </StyledLink>\n                ) : (\n                  [\n                    <StyledLink\n                      to=\"/register/\"\n                      onClick={this.handleClose}\n                      key={1}\n                    >\n                      S'inscrire\n                    </StyledLink>,\n                    <StyledDivider key={2} />,\n                    <StyledLink to=\"/login/\" onClick={this.handleClose} key={3}>\n                      Se connecter\n                    </StyledLink>,\n                  ]\n                )}\n              </StyledContainer>\n            </StyledSegment>\n          </Portal>\n        </Container>\n      </Menu>\n    )\n  }\n}\n\nexport default MobileMenu\n","import React from 'react'\nimport { Responsive } from 'semantic-ui-react'\nimport DesktopMenu from './DesktopMenu'\nimport MobileMenu from './MobileMenu'\nimport AuthContext from '../Context/AuthContext'\nimport CartContext from '../Context/CartContext'\n\nclass Header extends React.PureComponent {\n  render() {\n    return (\n      <AuthContext.Consumer>\n        {auth => (\n          <CartContext.Consumer>\n            {cart => (\n              <React.Fragment>\n                <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n                  <MobileMenu\n                    location={this.props.location}\n                    token={auth.token}\n                    cartCount={cart.cartCount}\n                  />\n                </Responsive>\n                <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n                  <DesktopMenu\n                    location={this.props.location}\n                    token={auth.token}\n                    cartCount={cart.cartCount}\n                  />\n                </Responsive>\n              </React.Fragment>\n            )}\n          </CartContext.Consumer>\n        )}\n      </AuthContext.Consumer>\n    )\n  }\n}\n\nexport default Header\n","import React from 'react'\nimport Link from 'gatsby-link'\nimport { Segment, Container, Grid, List, Header, Icon } from 'semantic-ui-react'\n\nconst Footer = () => (\n  <Segment\n    vertical\n    style={{\n      padding: '4em 0em',\n      marginTop: '3em',\n      borderTop: '1px solid #f2f2f2',\n    }}\n  >\n    <Container text>\n      <Grid stackable>\n        <Grid.Row>\n          <Grid.Column width={4}>\n            <Header as=\"h4\" content=\"À propos\" />\n            <List>\n              <List.Item as={Link} to=\"/privacy/\">\n                Données personnelles\n              </List.Item>\n              <List.Item as={Link} to=\"/terms/\">\n                Conditions\n              </List.Item>\n            </List>\n          </Grid.Column>\n          <Grid.Column width={5}>\n            <Header as=\"h4\" content=\"Navigation\" />\n            <List>\n              <List.Item as={Link} to=\"/\">\n                Boutique\n              </List.Item>\n              {/* <List.Item as={Link} to=\"/gatsbyimage/\">\n                Gatsby Image Example\n              </List.Item> */}\n            </List>\n          </Grid.Column>\n          <Grid.Column width={7}>\n            <Header as=\"h4\">Réseaux</Header>\n            <p>\n              Vous aimez mes bijoux ? Faites le moi savoir, et criez le autour\n              de vous !\n            </p>\n            <List horizontal>\n              <List.Item as={Link} to=\"/\">\n                <Icon name=\"instagram\" />\n              </List.Item>\n\n              <List.Item as={Link} to=\"/\">\n                <Icon name=\"facebook\" />\n              </List.Item>\n\n              <List.Item as={Link} to=\"/\">\n                <Icon name=\"mail\" />\n              </List.Item>\n            </List>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  </Segment>\n)\n\nexport default Footer\n","import React from 'react'\nimport { Container } from 'semantic-ui-react'\nimport Headroom from 'react-headroom'\nimport Helmet from 'react-helmet'\nimport { withPrefix } from 'gatsby-link'\nimport 'semantic-ui-css/semantic.min.css'\nimport AuthProvider from '../Context/AuthProvider'\nimport CartProvider from '../Context/CartProvider'\nimport Header from '../Header'\nimport Footer from '../Footer'\n\nexport default ({ children, location }) => (\n  <AuthProvider>\n    <CartProvider>\n      <Helmet\n        meta={[\n          {\n            name: 'description',\n            content:\n              'Boutique en ligne Zazou-Paris de bijoux personnalisés faits à la main',\n          },\n          { name: 'keywords', content: 'bijoux, zazou, mode' },\n          { name: 'msapplication-TileColor', content: '#da532c' },\n          { name: 'theme-color', content: '#ffffff' },\n        ]}\n      >\n        <html lang=\"en\" />\n        <link\n          rel=\"apple-touch-icon\"\n          sizes=\"180x180\"\n          href={withPrefix('/favicons/apple-touch-icon.png')}\n        />\n        <link\n          rel=\"icon\"\n          type=\"image/png\"\n          sizes=\"32x32\"\n          href={withPrefix('/favicons/favicon-32x32.png')}\n        />\n        <link\n          rel=\"icon\"\n          type=\"image/png\"\n          sizes=\"16x16\"\n          href={withPrefix('/favicons/favicon-16x16.png')}\n        />\n      </Helmet>\n      <Headroom\n        upTolerance={10}\n        downTolerance={10}\n        style={{ zIndex: '20', height: '6.5em' }}\n      >\n        <Header location={location} />\n      </Headroom>\n      <Container text>{children}</Container>\n      <Footer />\n    </CartProvider>\n  </AuthProvider>\n)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","module.exports = __webpack_public_path__ + \"static/logo-carre-2-8bccac38e7f1cfcb4a58878f146346b3.png\";","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import 'regenerator-runtime/runtime'\n\nconst MoltinGateway = require(`@moltin/sdk`).gateway\n\nconst Moltin = MoltinGateway({\n  client_id: process.env.GATSBY_MOLTIN_CLIENT_ID,\n  client_secret: process.env.GATSBY_MOLTIN_CLIENT_SECRET,\n\n  grant_type: 'client_credentials',\n})\n\nconst getProducts = () => Moltin.Products.With('main_image').All()\n\nconst getProductById = id => Moltin.Products.With('main_image').Get(id)\n\nconst addToCart = (cartId, productId, quantity) =>\n  Moltin.Cart(cartId).AddProduct(productId, quantity)\n\nconst getCartItems = id => Moltin.Cart(id).Items()\n\nconst removeFromCart = (productId, cartId) =>\n  Moltin.Cart(cartId).RemoveItem(productId)\n\nconst deleteCart = cartId => Moltin.Cart(cartId).Delete()\n\nconst checkoutCart = (cartId, customer, billing, shipping) =>\n  Moltin.Cart(cartId).Checkout(customer, billing, shipping)\n\nconst payForOrder = (orderId, token, email) =>\n  Moltin.Orders.Payment(orderId, {\n    gateway: 'stripe',\n    method: 'purchase',\n    payment: token.id,\n    options: {\n      receipt_email: email,\n    },\n  })\n\nconst login = ({ email, password }) =>\n  Moltin.Customers.Token(email, password).then(data => {\n    const {\n      data: { customer_id: id, token },\n    } = data\n    return {\n      id,\n      token,\n    }\n  })\n\nconst register = ({ email, password, ...rest }) =>\n  Moltin.Customers.Create({\n    email,\n    password,\n    type: 'customer',\n    ...rest,\n  }).then(data => {\n    const {\n      data: { name, id },\n    } = data\n    return login({ email, password }).then(data => {\n      const { token } = data\n      return {\n        id,\n        name,\n        email,\n        token,\n      }\n    })\n  })\n\nconst getOrders = token => Moltin.Orders.With('items').All(token)\n\nconst getOrderItems = orderId => Moltin.Orders.Items(orderId)\n\nconst getCustomer = id => Moltin.Customers.Get(id)\n\nconst findCustomerByEmail = email =>\n  Moltin.Customers.Filter({ eq: { email } }).All()\n\nconst updateCustomer = (customerId, customer) =>\n  Moltin.Customers.Update(customerId, customer)\n\nconst findCustomerByResetToken = token =>\n  Moltin.Customers.Filter({\n    eq: { resetPasswordToken: token },\n  })\n    .All()\n    .then(data => {\n      for (let i = 0; i < data.data.length; i++) {\n        if (data.data[i].resetPasswordToken == token) {\n          return data.data[i]\n        }\n      }\n    })\n\nconst getFiles = id => Moltin.Files.Get(id)\n\nexport {\n  getProducts,\n  getProductById,\n  addToCart,\n  getCartItems,\n  removeFromCart,\n  deleteCart,\n  checkoutCart,\n  payForOrder,\n  register,\n  login,\n  getOrders,\n  getOrderItems,\n  getCustomer,\n  findCustomerByEmail,\n  updateCustomer,\n  findCustomerByResetToken,\n  getFiles,\n}\n"],"sourceRoot":""}